/**
 * 时间处理模块
 * Author: 陆楚良
 * Version: 1.0.5
 * Date: 2015-05-08
 * QQ: 519998338
 *
 * https://git.oschina.net/luchg/Time.js.git
 *
 * License: http://www.apache.org/licenses/LICENSE-2.0
 **/
!function(){"use strict";var e={},t=function(){var e,t={},n=t.toString,r="Boolean Number String Function Array Date RegExp Object Error".split(" ");for(e=0;9>e;e++)t["[object "+r[e]+"]"]=r[e].toLowerCase();return function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?t[n.call(e)]||"object":typeof e}}(),n=function(e,n){n="number"==t(n)?n:2,e=String(e);for(var r=n-e.length;r>0;r--)e="0"+e;return e};e.clock=function(){var e=(new Date).getTime();return function(n){return n="number"==t(n)?n:1e3,parseInt(((new Date).getTime()-e)/n)}},e.strftime=function(){var e={"%a":function(e){return["Sun","Mon","Tues","Wed","Thur","Fri","Sat"][e.getDay()]},"%A":function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]},"%b":function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]},"%B":function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]},"%c":function(e){return e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())},"%C":function(e){return e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())+" "+n(e.getHours())+":"+n(e.getMinutes())+":"+n(e.getSeconds())},"%d":function(e){return e.getDate()},"%D":function(e){return n(e.getDate())},"%e":function(e){var t=String(e.getDate());switch(t){case"1":case"21":t+="st";break;case"2":case"22":t+="nd";break;case"3":case"23":t+="rd";break;default:t+="th"}return t},"%f":function(e){return e.getMilliseconds()},"%F":function(e){return n(e.getMilliseconds(),3)},"%g":function(e){var t=e.getHours();return t>12?t-12:t},"%G":function(e){var t=e.getHours();return n(t>12?t-12:t)},"%h":function(e){return e.getHours()},"%H":function(e){return n(e.getHours())},"%i":function(e){return e.getMinutes()},"%I":function(e){return n(e.getMinutes())},"%m":function(e){return e.getMonth()+1},"%M":function(e){return n(e.getMonth()+1)},"%p":function(e){return e.getHours()<12?"am":"pm"},"%P":function(e){return e.getHours()<12?"AM":"PM"},"%s":function(e){return e.getSeconds()},"%S":function(e){return n(e.getSeconds())},"%u":function(e){return["日","一","二","三","四","五","六"][e.getDay()]},"%y":function(e){return String(e.getFullYear()).substr(-2)},"%Y":function(e){return e.getFullYear()},"%%":function(){return"%"}};return function(n,r){var u="undefined"!=t(r)?new Date(r):new Date;for(i in e)"%"==i.substr(0,1)&&(n=n.replace(new RegExp(i,"g"),e[i](u)));return n}}(),e.converter=function(e,t,r){r=r===!1?"0":"";var u={};u.f=t%1e3,t=Math.floor(t/1e3),u.s=t%60,t=Math.floor(t/60),u.i=t%60,t=Math.floor(t/60),u.h=t%24,u.d=Math.floor(t/24);var a=function(e){return e?"$1"+e+"$2":""};return e=e.replace(/\{([^{]*?)%f(.*?)\}/g,a(u.f||r)),e=e.replace(/\{([^{]*?)%s(.*?)\}/g,a(u.s||r)),e=e.replace(/\{([^{]*?)%i(.*?)\}/g,a(u.i||r)),e=e.replace(/\{([^{]*?)%h(.*?)\}/g,a(u.h||r)),e=e.replace(/\{([^{]*?)%d(.*?)\}/gi,a(u.d||r)),e=e.replace(/\{([^{]*?)%F(.*?)\}/g,a(u.f?n(u.f,3):r+r)),e=e.replace(/\{([^{]*?)%S(.*?)\}/g,a(u.s?n(u.s):r+r)),e=e.replace(/\{([^{]*?)%I(.*?)\}/g,a(u.i?n(u.i):r+r)),e=e.replace(/\{([^{]*?)%H(.*?)\}/g,a(u.h?n(u.h):r+r))},e.isLeapYear=function(e){var e="undefined"!=t(e)?e:(new Date).getFullYear();return e%4==0&&e%100!=0||e%400==0},e.yesterday=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate()-1).getTime()},e.today=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime()},e.tomorrow=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate()+1).getTime()},e.lastMonth=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth()-1,1).getTime()},e.thisMonth=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth(),1).getTime()},e.nextMonth=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth()+1,1).getTime()},e.lastYear=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear()-1,0,1).getTime()},e.thisYear=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear(),0,1).getTime()},e.nextYear=function(e){var n="undefined"!=t(e)?new Date(e):new Date;return new Date(n.getFullYear()+1,0,1).getTime()},e.magicInfo=function(e,n){var r,u,a,o,i,c="undefined"!=t(n)?new Date(n):new Date,f="",g=c.getMonth()+1,l=c.getFullYear(),s=c.getDate();switch(e){case"XZ":if(u=["摩羯","宝瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手"],a=[1222,122,222,321,421,522,622,722,822,922,1022,1122,1222],100*g+s>=a[0]||100*g+s<a[1])r=0;else for(r=1;12>r&&!(100*g+s>=a[r]&&100*g+s<a[r+1]);r++);f=u[r]+"座";break;case"GZ":o=[["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]],r=l-1900+36,f=o[0][r%10]+o[1][r%12];break;case"SX":i=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],f=i[(l-4)%12]}return f},"function"==typeof define?define(function(){return e}):"undefined"!=typeof exports?module.exports=e:window.Time=e}();
