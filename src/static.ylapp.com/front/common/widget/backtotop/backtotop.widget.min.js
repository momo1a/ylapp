/**
 * 返回顶部挂件
 * Author: 陆楚良
 * Date: 2015-03-31
 * 效果：当页面下移以后，出现一个返回顶部的悬浮按钮
 */
var Widgets=function(t,o,e,i,a){"use strict";var n,p,d,c,s=".widget-backtotop{${width}height:0;line-height:0;margin:0 auto;}.widget-backtotop-fw{${width}position:fixed;_position:absolute;height:0;bottom:0;z-index:0;_top:expression(eval(document.documentElement.scrollTop+document.documentElement.clientHeight));}.widget-backtotop-fw a{width:50px;height:50px;overflow:hidden;position:absolute;right:-80px;top:0;display:none;line-height:0;background-color:#ADACA9;background-repeat:no-repeat;background-position:center center;}.widget-backtotop-fw a:hover{background-color:#8B8A86;}.widget-backtotop-fw a span{position:absolute;left:50%;line-height:0;overflow:hidden;cursor:pointer;}.widget-backtotop-rect1{background-color:#fff;width:25px;height:2px;top:10px;margin-left:-13px;}.widget-backtotop-polygon{width:0;height:0;border-color:transparent transparent #ffffff transparent;border-style:dashed dashed solid dashed;border-width:0 13px 13px 12px;top:15px;margin-left:-13px;}.widget-backtotop-rect2{background-color:#fff;width:11px;height:12px;top:28px;margin-left:-6px;}",r='<div class="widget-backtotop${class}"><div class="widget-backtotop-fw${class}"><a href="javascript:;" title="回到顶部"><span class="widget-backtotop-rect1">&nbsp;</span><span class="widget-backtotop-polygon">&nbsp;</span><span class="widget-backtotop-rect2">&nbsp;</span></a></div></div>',h=!1,l=function(){c=n.height(),g()},g=function(){p.scrollTop()>n.height()?f.show():f.hide()},w=function(){n=i(o),p=i(e),d=i("body, html"),c=n.height();var t="string"==i.type(o["D-Width-Response"])?o["D-Width-Response"]:i("head meta[name=D-Width-Response]").attr("content")||"",h=t.match(/^.*width=(\d+[a-z%]*).*$/i),w=t.match(/^.*class=([_\-0-9a-z]+).*$/i);h?(r=r.replace(/\$\{class\}/g,""),s=s.replace(/\$\{width\}/g,"width:"+h[1]+";")):w?(r=r.replace(/\$\{class\}/g," "+w[1]),s=s.replace(/\$\{width\}/g,"")):(r=r.replace(/\$\{class\}/g,""),s=s.replace(/\$\{width\}/g,"width:1000px;")),a.style(s);var b=f.DOM,u=b.widget=i(r);return b.fw=u.find(".widget-backtotop-fw"),b.btn=u.find(".widget-backtotop-fw a"),n.resize(l).scroll(g).scroll(),b.btn.click(function(){f.toTop()}),i(e.body).append(b.widget),f},f={DOM:{},toTop:function(){d.animate({scrollTop:0})},show:function(){h||(h=!0,f.DOM.btn.stop().show().animate({top:-160}))},hide:function(){h&&(h=!1,f.DOM.btn.stop().show().animate({top:0},function(){i(this).hide()}))}};return i(function(){t.backtotop=w()}),t}(window.Widgets||{},window,document,jQuery,CL_Loader);